{"ast":null,"code":"import { createStore } from \"vuex\"; // import createPersistedState from \"vuex-persistedstate\";\n\nimport axios from \"axios\";\nexport default createStore({\n  state: {\n    hasToken: !window.sessionStorage.getItem(\"access_token\") == \"\" ? true : false,\n    user: \"\",\n    postData: []\n  },\n  getters: {},\n  mutations: {\n    loggedOut(state) {\n      state.hasToken = false;\n      state.user = \"\";\n    }\n\n  },\n  actions: {\n    logOut({\n      commit\n    }) {\n      let token = window.sessionStorage.getItem(\"access_token\");\n      axios.get(\"http://127.0.0.1:10520/api/user/logout\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => {\n        console.log(res);\n\n        if (res.data.message == \"Session cerrada\") {\n          window.sessionStorage.removeItem(\"access_token\");\n          console.log(res.data.message);\n          commit(\"loggedOut\");\n          this.$router.push(\"Home\");\n        }\n      }).catch(error => {\n        // let eerror = error.response.data.message;\n        console.log(error);\n      });\n    }\n\n  },\n  modules: {}\n});","map":{"version":3,"sources":["C:/Users/yassine/Desktop/Curso Angular/toolsapp-vue-master/src/store/index.js"],"names":["createStore","axios","state","hasToken","window","sessionStorage","getItem","user","postData","getters","mutations","loggedOut","actions","logOut","commit","token","get","headers","Authorization","then","res","console","log","data","message","removeItem","$router","push","catch","error","modules"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAeD,WAAW,CAAC;AACzBE,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EACN,CAACC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,cAA9B,CAAD,IAAkD,EAAlD,GAAuD,IAAvD,GAA8D,KAF3D;AAGLC,IAAAA,IAAI,EAAE,EAHD;AAILC,IAAAA,QAAQ,EAAE;AAJL,GADkB;AAOzBC,EAAAA,OAAO,EAAE,EAPgB;AAQzBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,SAAS,CAACT,KAAD,EAAQ;AACfA,MAAAA,KAAK,CAACC,QAAN,GAAiB,KAAjB;AACAD,MAAAA,KAAK,CAACK,IAAN,GAAa,EAAb;AACD;;AAJQ,GARc;AAczBK,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,CAAC;AAAEC,MAAAA;AAAF,KAAD,EAAa;AACjB,UAAIC,KAAK,GAAGX,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,cAA9B,CAAZ;AACAL,MAAAA,KAAK,CACFe,GADH,CACO,wCADP,EACiD;AAC7CC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASH,KAAM;AADxB;AADoC,OADjD,EAMGI,IANH,CAMSC,GAAD,IAAS;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,YAAIA,GAAG,CAACG,IAAJ,CAASC,OAAT,IAAoB,iBAAxB,EAA2C;AACzCpB,UAAAA,MAAM,CAACC,cAAP,CAAsBoB,UAAtB,CAAiC,cAAjC;AACAJ,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,OAArB;AACAV,UAAAA,MAAM,CAAC,WAAD,CAAN;AACA,eAAKY,OAAL,CAAaC,IAAb,CAAkB,MAAlB;AACD;AACF,OAdH,EAeGC,KAfH,CAeUC,KAAD,IAAW;AAChB;AACAR,QAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACD,OAlBH;AAmBD;;AAtBM,GAdgB;AAsCzBC,EAAAA,OAAO,EAAE;AAtCgB,CAAD,CAA1B","sourcesContent":["import { createStore } from \"vuex\";\n// import createPersistedState from \"vuex-persistedstate\";\nimport axios from \"axios\";\n\nexport default createStore({\n  state: {\n    hasToken:\n      !window.sessionStorage.getItem(\"access_token\") == \"\" ? true : false,\n    user: \"\",\n    postData: [],\n  },\n  getters: {},\n  mutations: {\n    loggedOut(state) {\n      state.hasToken = false;\n      state.user = \"\";\n    },\n  },\n  actions: {\n    logOut({ commit }) {\n      let token = window.sessionStorage.getItem(\"access_token\");\n      axios\n        .get(\"http://127.0.0.1:10520/api/user/logout\", {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        .then((res) => {\n          console.log(res);\n          if (res.data.message == \"Session cerrada\") {\n            window.sessionStorage.removeItem(\"access_token\");\n            console.log(res.data.message);\n            commit(\"loggedOut\");\n            this.$router.push(\"Home\");\n          }\n        })\n        .catch((error) => {\n          // let eerror = error.response.data.message;\n          console.log(error);\n        });\n    },\n  },\n  modules: {},\n});\n"]},"metadata":{},"sourceType":"module"}