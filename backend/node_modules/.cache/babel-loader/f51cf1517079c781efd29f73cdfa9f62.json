{"ast":null,"code":"import { createStore } from 'vuex'; // import createPersistedState from \"vuex-persistedstate\";\n\nimport axios from 'axios';\nexport default createStore({\n  state: {\n    hasToken: !window.sessionStorage.getItem('access_token') == '' ? true : false,\n    user: '',\n    postData: []\n  },\n  getters: {},\n  mutations: {\n    loggedOut(state) {\n      state.hasToken = false;\n      state.user = '';\n    }\n\n  },\n  actions: {\n    logOut({\n      commit\n    }) {\n      let token = window.sessionStorage.getItem('access_token');\n      axios.get('http://127.0.0.1:8000/api/logout', {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      }).then(res => {\n        console.log(res);\n\n        if (res.data.status_code == 200) {\n          window.sessionStorage.removeItem('access_token');\n          console.log(res.data.message);\n          commit('loggedOut');\n        }\n      }).catch(error => {\n        // let eerror = error.response.data.message;\n        console.log(error);\n      });\n    }\n\n  },\n  modules: {}\n});","map":{"version":3,"sources":["C:/Users/yassine/Desktop/Curso Angular/toolsapp-vue-master/src/store/index.js"],"names":["createStore","axios","state","hasToken","window","sessionStorage","getItem","user","postData","getters","mutations","loggedOut","actions","logOut","commit","token","get","headers","then","res","console","log","data","status_code","removeItem","message","catch","error","modules"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAeD,WAAW,CAAC;AACzBE,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,CAACC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,cAA9B,CAAD,IAAkD,EAAlD,GAAuD,IAAvD,GAA8D,KADnE;AAELC,IAAAA,IAAI,EAAE,EAFD;AAGLC,IAAAA,QAAQ,EAAE;AAHL,GADkB;AAMzBC,EAAAA,OAAO,EAAE,EANgB;AAQzBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,SAAS,CAACT,KAAD,EAAQ;AACfA,MAAAA,KAAK,CAACC,QAAN,GAAiB,KAAjB;AACAD,MAAAA,KAAK,CAACK,IAAN,GAAa,EAAb;AACD;;AAJQ,GARc;AAezBK,EAAAA,OAAO,EAAE;AAEPC,IAAAA,MAAM,CAAC;AAAEC,MAAAA;AAAF,KAAD,EAAa;AACjB,UAAIC,KAAK,GAAGX,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,cAA9B,CAAZ;AACAL,MAAAA,KAAK,CAACe,GAAN,CAAU,kCAAV,EAA8C;AAC5CC,QAAAA,OAAO,EAAE;AACP,2BAAkB,UAASF,KAAM;AAD1B;AADmC,OAA9C,EAKGG,IALH,CAKQC,GAAG,IAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,YAAIA,GAAG,CAACG,IAAJ,CAASC,WAAT,IAAwB,GAA5B,EAAiC;AAC/BnB,UAAAA,MAAM,CAACC,cAAP,CAAsBmB,UAAtB,CAAiC,cAAjC;AACAJ,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASG,OAArB;AACAX,UAAAA,MAAM,CAAC,WAAD,CAAN;AACD;AACF,OAZH,EAaGY,KAbH,CAaSC,KAAK,IAAI;AACd;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACD,OAhBH;AAiBD;;AArBM,GAfgB;AAsCzBC,EAAAA,OAAO,EAAE;AAtCgB,CAAD,CAA1B","sourcesContent":["import { createStore } from 'vuex'\n// import createPersistedState from \"vuex-persistedstate\";\nimport axios from 'axios'\n\nexport default createStore({\n  state: {\n    hasToken: !window.sessionStorage.getItem('access_token') == '' ? true : false,\n    user: '',\n    postData: [],\n  },\n  getters: {\n  },\n  mutations: {\n    loggedOut(state) {\n      state.hasToken = false;\n      state.user = ''\n    },\n\n  },\n  actions: {\n\n    logOut({ commit }) {\n      let token = window.sessionStorage.getItem('access_token')\n      axios.get('http://127.0.0.1:8000/api/logout', {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      })\n        .then(res => {\n          console.log(res)\n          if (res.data.status_code == 200) {\n            window.sessionStorage.removeItem('access_token')\n            console.log(res.data.message)\n            commit('loggedOut')\n          }\n        })\n        .catch(error => {\n          // let eerror = error.response.data.message;\n          console.log(error)\n        })\n    },\n  },\n  modules: {\n  }\n})\n"]},"metadata":{},"sourceType":"module"}