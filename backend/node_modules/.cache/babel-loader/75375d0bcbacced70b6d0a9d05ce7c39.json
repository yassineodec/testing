{"ast":null,"code":"import md5 from \"js-md5\";\nexport default {\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      message: []\n    };\n  },\n\n  watch: {\n    username(val) {}\n\n  },\n  methods: {\n    submitLogin() {\n      if (!this.username == \"\" && !this.password == \"\" && this.password.length >= 8) {\n        this.$axios({\n          method: \"post\",\n          url: \"http://localhost:10520/api/user/login\",\n          data: {\n            username: self.form.username,\n            password: md5(self.form.userpwd),\n            token: localStorage.getItem(\"token\") // agregar el token aquÃ­\n\n          }\n        }).then(res => {\n          if (res.data.status_code == 200) {\n            // console.log(res.data)\n            this.message.notiError = \"\";\n            this.message.notiSuccess = \"Login Successfuly ðŸŽ‰ Redirecting...\";\n            window.sessionStorage.setItem(\"access_token\", res.data.token);\n            this.$store.state.hasToken = true;\n            this.$store.state.user = res.data.user;\n            setTimeout(this.redirect, 2000);\n          } else {\n            this.message.notiError = `${res.data.message} ðŸ˜¢`;\n            this.message.notiSuccess = \"\";\n          }\n        }).catch(err => {\n          // console.log(err);\n          this.message.notiError = \"Email not found ðŸ˜¢\";\n          this.message.notiSuccess = \"\";\n        });\n      } else {\n        this.message.notiError = \"Error! Invalid Forum ðŸ˜¢\";\n        this.message.notiSuccess = \"\";\n      }\n    },\n\n    redirect() {\n      this.$router.push(\"/\");\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA4HA,OAAOA,GAAP,MAAgB,QAAhB;AACA,eAAe;AACbC,MAAI,GAAG;AACL,WAAO;AACLC,cAAQ,EAAE,EADL;AAELC,cAAQ,EAAE,EAFL;AAGLC,aAAO,EAAE;AAHJ,KAAP;AAKD,GAPY;;AAQbC,OAAK,EAAE;AACLH,YAAQ,CAACI,GAAD,EAAM,CAAE;;AADX,GARM;AAWbC,SAAO,EAAE;AACPC,eAAW,GAAG;AACZ,UACE,CAAC,KAAKN,QAAN,IAAkB,EAAlB,IACA,CAAC,KAAKC,QAAN,IAAkB,EADlB,IAEA,KAAKA,QAAL,CAAcM,MAAd,IAAwB,CAH1B,EAIE;AACA,aAAKC,MAAL,CAAY;AACVC,gBAAM,EAAE,MADE;AAEVC,aAAG,EAAE,uCAFK;AAGVX,cAAI,EAAE;AACJC,oBAAQ,EAAEW,IAAI,CAACC,IAAL,CAAUZ,QADhB;AAEJC,oBAAQ,EAAEH,GAAG,CAACa,IAAI,CAACC,IAAL,CAAUC,OAAX,CAFT;AAGJC,iBAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAHH,CAGkC;;AAHlC;AAHI,SAAZ,EASGC,IATH,CASSC,GAAD,IAAS;AACb,cAAIA,GAAG,CAACnB,IAAJ,CAASoB,WAAT,IAAwB,GAA5B,EAAiC;AAC/B;AACA,iBAAKjB,OAAL,CAAakB,SAAb,GAAyB,EAAzB;AACA,iBAAKlB,OAAL,CAAamB,WAAb,GAA2B,qCAA3B;AACAC,kBAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,cAA9B,EAA8CN,GAAG,CAACnB,IAAJ,CAASe,KAAvD;AACA,iBAAKW,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,GAA6B,IAA7B;AACA,iBAAKF,MAAL,CAAYC,KAAZ,CAAkBE,IAAlB,GAAyBV,GAAG,CAACnB,IAAJ,CAAS6B,IAAlC;AACAC,sBAAU,CAAC,KAAKC,QAAN,EAAgB,IAAhB,CAAV;AACF,WARA,MAQO;AACL,iBAAK5B,OAAL,CAAakB,SAAb,GAA0B,GAAEF,GAAG,CAACnB,IAAJ,CAASG,OAAO,KAA5C;AACA,iBAAKA,OAAL,CAAamB,WAAb,GAA2B,EAA3B;AACF;AACD,SAtBH,EAuBGU,KAvBH,CAuBUC,GAAD,IAAS;AACd;AACA,eAAK9B,OAAL,CAAakB,SAAb,GAAyB,oBAAzB;AACA,eAAKlB,OAAL,CAAamB,WAAb,GAA2B,EAA3B;AACD,SA3BH;AA4BF,OAjCA,MAiCO;AACL,aAAKnB,OAAL,CAAakB,SAAb,GAAyB,yBAAzB;AACA,aAAKlB,OAAL,CAAamB,WAAb,GAA2B,EAA3B;AACF;AACD,KAvCM;;AAwCPS,YAAQ,GAAG;AACT,WAAKG,OAAL,CAAaC,IAAb,CAAkB,GAAlB;AACD;;AA1CM;AAXI,CAAf","names":["md5","data","username","password","message","watch","val","methods","submitLogin","length","$axios","method","url","self","form","userpwd","token","localStorage","getItem","then","res","status_code","notiError","notiSuccess","window","sessionStorage","setItem","$store","state","hasToken","user","setTimeout","redirect","catch","err","$router","push"],"sourceRoot":"","sources":["C:\\Users\\yassine\\Desktop\\Curso Angular\\toolsapp-vue-master\\src\\views\\auth\\login.vue"],"sourcesContent":["<template>\n  <div class=\"grid w-full h-screen bg-gray-200 items-center\">\n    <div\n      class=\"shadow-lg rounded-2xl p-4 bg-white dark:bg-gray-800 w-72 m-auto\"\n    >\n      <!-- Error Notification -->\n      <div\n        v-if=\"!message.notiError == ''\"\n        class=\"alert alert-error shadow-lg transition ease-in duration-200\"\n      >\n        <div>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            class=\"stroke-current flex-shrink-0 h-6 w-6\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              stroke-width=\"2\"\n              d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <span>{{ message.notiError }}</span>\n        </div>\n      </div>\n\n      <!-- Success Notification -->\n      <div\n        v-else-if=\"!message.notiSuccess == ''\"\n        class=\"alert alert-success shadow-lg transition ease-in duration-200\"\n      >\n        <div>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            class=\"stroke-current flex-shrink-0 h-6 w-6\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              stroke-width=\"2\"\n              d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n            />\n          </svg>\n          <span>{{ message.notiSuccess }}</span>\n        </div>\n      </div>\n\n      <div class=\"w-full h-full text-center\">\n        <div class=\"flex h-full flex-col justify-between\">\n          <p\n            class=\"text-gray-800 dark:text-gray-200 text-4xl font-bold mt-4 mb-4\"\n          >\n            Login .\n          </p>\n\n          <!-- This is the Email Field -->\n          <div class=\"relative\">\n            <input\n              v-model=\"username\"\n              type=\"text\"\n              class=\"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-4 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n              placeholder=\"Your email\"\n            />\n            <p class=\"absolute text-vs text-red-500 -bottom-0 right-2\">\n              {{ message.username }}\n            </p>\n          </div>\n\n          <!-- This is the Password Field -->\n          <div class=\"relative mt-4\">\n            <input\n              v-model=\"password\"\n              type=\"password\"\n              class=\"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-4 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n              placeholder=\"Password\"\n            />\n            <p class=\"absolute text-vs text-red-500 top-10 right-2\">\n              {{ message.passwordValid }}\n            </p>\n          </div>\n\n          <div class=\"flex items-center justify-between gap-4 w-full mt-10\">\n            <button\n              type=\"submit\"\n              @click=\"submitLogin\"\n              class=\"py-2 px-4 bg-orange-500 hover:bg-orange-600 focus:ring-orange-600 focus:ring-offset-indigo-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg\"\n            >\n              Login\n            </button>\n            <router-link to=\"/register\"\n              ><button\n                type=\"button\"\n                class=\"py-2 px-4 bg-white border-2 border-orange-500 text-orange-500 hover:text-gray-600 w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md rounded-lg\"\n              >\n                Register\n              </button></router-link\n            >\n          </div>\n          <div\n            class=\"text-sm px-2 py-3 mt-5 bg-gray-200 rounded-lg shadow-lg transition ease-in duration-200\"\n          >\n            <div>\n              <p>\n                forgot your password?\n                <router-link to=\"/reset-password\"\n                  ><span\n                    class=\"cursor-pointer text-blue-600 hover:text-orange-600\"\n                    >Recover Now.</span\n                  ></router-link\n                >\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport md5 from \"js-md5\";\nexport default {\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      message: [],\n    };\n  },\n  watch: {\n    username(val) {},\n  },\n  methods: {\n    submitLogin() {\n      if (\n        !this.username == \"\" &&\n        !this.password == \"\" &&\n        this.password.length >= 8\n      ) {\n        this.$axios({\n          method: \"post\",\n          url: \"http://localhost:10520/api/user/login\",\n          data: {\n            username: self.form.username,\n            password: md5(self.form.userpwd),\n            token: localStorage.getItem(\"token\"), // agregar el token aquÃ­\n          },\n        })\n          .then((res) => {\n            if (res.data.status_code == 200) {\n              // console.log(res.data)\n              this.message.notiError = \"\";\n              this.message.notiSuccess = \"Login Successfuly ðŸŽ‰ Redirecting...\";\n              window.sessionStorage.setItem(\"access_token\", res.data.token);\n              this.$store.state.hasToken = true;\n              this.$store.state.user = res.data.user;\n              setTimeout(this.redirect, 2000);\n            } else {\n              this.message.notiError = `${res.data.message} ðŸ˜¢`;\n              this.message.notiSuccess = \"\";\n            }\n          })\n          .catch((err) => {\n            // console.log(err);\n            this.message.notiError = \"Email not found ðŸ˜¢\";\n            this.message.notiSuccess = \"\";\n          });\n      } else {\n        this.message.notiError = \"Error! Invalid Forum ðŸ˜¢\";\n        this.message.notiSuccess = \"\";\n      }\n    },\n    redirect() {\n      this.$router.push(\"/\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.text-vs {\n  font-size: 0.7rem;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}