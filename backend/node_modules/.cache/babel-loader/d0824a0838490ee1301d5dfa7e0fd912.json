{"ast":null,"code":"export default {\n  data() {\n    return {\n      name: this.$store.state.user.name,\n      email: this.$store.state.user.email,\n      message: []\n    };\n  },\n\n  watch: {\n    name(val) {\n      if (val.length >= 1) {\n        if (val.match(/^[A-Z a-z]+$/)) {\n          this.name = val;\n          this.message[\"name\"] = \"\";\n        } else {\n          this.message[\"name\"] = \"* name is not valid\";\n        }\n      } else if (val.length < 1) {\n        this.message[\"name\"] = \"\";\n      }\n    },\n\n    email(val) {\n      if (val.length > 2) {\n        if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(val)) {\n          this.email = val;\n          this.message[\"email\"] = \"\";\n        } else {\n          // this.email = ''\n          this.message[\"email\"] = \"* email is not valid\";\n        }\n      } else if (val.length < 1) {\n        // this.email = ''\n        this.message[\"email\"] = \"\";\n      }\n    }\n\n  },\n  methods: {\n    updateProfile() {\n      let token = window.sessionStorage.getItem(\"access_token\");\n      let id = window.sessionStorage.getItem(\"access_token\");\n      console.log(this.name);\n      this.axios.put(`http://127.0.0.1:8000/api/user/${id}`, {\n        name: this.name\n      }).then(res => {\n        console.log(res);\n\n        if (res.data.status_code == 200) {\n          // this.$store.state.user = res.data.user;\n          this.message[\"updateMes\"] = res.data.message;\n        }\n      }).catch(error => {\n        // let eerror = error.response.data.message;\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkGA,eAAe;AACbA,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAE,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBH,IADxB;AAELI,WAAK,EAAE,KAAKH,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBC,KAFzB;AAGLC,aAAO,EAAE;AAHJ,KAAP;AAKD,GAPY;;AAQbC,OAAK,EAAE;AACLN,QAAI,CAACO,GAAD,EAAM;AACR,UAAIA,GAAG,CAACC,MAAJ,IAAc,CAAlB,EAAqB;AACnB,YAAID,GAAG,CAACE,KAAJ,CAAU,cAAV,CAAJ,EAA+B;AAC7B,eAAKT,IAAL,GAAYO,GAAZ;AACA,eAAKF,OAAL,CAAa,MAAb,IAAuB,EAAvB;AACF,SAHA,MAGO;AACL,eAAKA,OAAL,CAAa,MAAb,IAAuB,qBAAvB;AACF;AACF,OAPA,MAOO,IAAIE,GAAG,CAACC,MAAJ,GAAa,CAAjB,EAAoB;AACzB,aAAKH,OAAL,CAAa,MAAb,IAAuB,EAAvB;AACF;AACD,KAZI;;AAcLD,SAAK,CAACG,GAAD,EAAM;AACT,UAAIA,GAAG,CAACC,MAAJ,GAAa,CAAjB,EAAoB;AAClB,YAAI,gDAAgDE,IAAhD,CAAqDH,GAArD,CAAJ,EAA+D;AAC7D,eAAKH,KAAL,GAAaG,GAAb;AACA,eAAKF,OAAL,CAAa,OAAb,IAAwB,EAAxB;AACF,SAHA,MAGO;AACL;AACA,eAAKA,OAAL,CAAa,OAAb,IAAwB,sBAAxB;AACF;AACF,OARA,MAQO,IAAIE,GAAG,CAACC,MAAJ,GAAa,CAAjB,EAAoB;AACzB;AACA,aAAKH,OAAL,CAAa,OAAb,IAAwB,EAAxB;AACF;AACD;;AA3BI,GARM;AAqCbM,SAAO,EAAE;AACPC,iBAAa,GAAG;AACd,UAAIC,KAAI,GAAIC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,cAA9B,CAAZ;AACA,UAAIC,EAAC,GAAIH,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,cAA9B,CAAT;AACAE,aAAO,CAACC,GAAR,CAAY,KAAKnB,IAAjB;AACA,WAAKoB,KAAL,CACGC,GADH,CACQ,kCAAiCJ,EAAG,EAD5C,EAC+C;AAC3CjB,YAAI,EAAE,KAAKA;AADgC,OAD/C,EAIGsB,IAJH,CAISC,GAAD,IAAS;AACbL,eAAO,CAACC,GAAR,CAAYI,GAAZ;;AACA,YAAIA,GAAG,CAACxB,IAAJ,CAASyB,WAAT,IAAwB,GAA5B,EAAiC;AAC/B;AACA,eAAKnB,OAAL,CAAa,WAAb,IAA4BkB,GAAG,CAACxB,IAAJ,CAASM,OAArC;AACF;AACD,OAVH,EAWGoB,KAXH,CAWUC,KAAD,IAAW;AAChB;AACAR,eAAO,CAACC,GAAR,CAAYO,KAAZ;AACD,OAdH;AAeD;;AApBM;AArCI,CAAf","names":["data","name","$store","state","user","email","message","watch","val","length","match","test","methods","updateProfile","token","window","sessionStorage","getItem","id","console","log","axios","put","then","res","status_code","catch","error"],"sourceRoot":"","sources":["C:\\Users\\yassine\\Desktop\\Curso Angular\\toolsapp-vue-master\\src\\views\\profileView.vue"],"sourcesContent":["<template>\n  <div class=\"grid w-full h-full bg-gray-200 items-center\">\n    <div\n      class=\"container max-w-2xl mx-auto shadow-lg rounded-2xl my-10 md:w-3/4\"\n    >\n      <div class=\"space-y-6 bg-white rounded-2xl\">\n        <div\n          class=\"items-center w-full p-4 space-y-4 text-gray-500 md:inline-flex md:space-y-0\"\n        >\n          <h2 class=\"max-w-sm mx-auto font-bold md:w-1/3\">Personal info</h2>\n          <div class=\"max-w-sm mx-auto space-y-5 md:w-2/3\">\n            <div>\n              <div class=\"relative\">\n                <input\n                  placeholder=\"Full Name\"\n                  v-model=\"name\"\n                  type=\"text\"\n                  class=\"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-4 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                />\n                <p class=\"absolute text-vs text-red-500 -bottom-0 right-2\">\n                  {{ message.name }}\n                </p>\n              </div>\n            </div>\n            <div>\n              <div class=\"relative\">\n                <input\n                  readonly\n                  placeholder=\"Your email\"\n                  v-model=\"email\"\n                  type=\"text\"\n                  class=\"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-4 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent\"\n                />\n                <p class=\"absolute text-vs text-red-500 -bottom-0 right-2\">\n                  {{ message.email }}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr />\n        <div\n          class=\"items-center w-full p-4 space-y-4 text-gray-500 md:inline-flex md:space-y-0\"\n        >\n          <h2 class=\"max-w-sm mx-auto font-bold md:w-1/3\">About More</h2>\n          <div class=\"max-w-sm mx-auto space-y-5 md:w-2/3\">\n            <div class=\"col-span-2\">\n              <label class=\"text-gray-700\" for=\"name\">\n                <textarea\n                  placeholder=\"Some more about you... ðŸ˜Š\"\n                  class=\"flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-orange-600 focus:border-transparent\"\n                  rows=\"5\"\n                  cols=\"40\"\n                >\n                </textarea>\n              </label>\n            </div>\n          </div>\n        </div>\n        <hr />\n        <div\n          class=\"items-center w-full p-8 space-y-4 text-gray-500 md:inline-flex md:space-y-0\"\n        >\n          <h2 class=\"max-w-sm mx-auto font-bold md:w-4/12\">Change password</h2>\n          <div\n            class=\"w-full max-w-sm pl-2 mx-auto space-y-5 md:w-5/12 md:pl-9 md:inline-flex\"\n          >\n            <div class=\"relative\">\n              <p>Reset my password.</p>\n            </div>\n          </div>\n          <div class=\"text-center md:w-3/12 md:pl-6\">\n            <router-link to=\"/reset-password\"\n              ><button\n                type=\"button\"\n                class=\"py-2 px-4 bg-indigo-700 hover:bg-indigo-800 focus:ring-orange-600 focus:ring-offset-pink-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg\"\n              >\n                Reset ðŸ”‘\n              </button></router-link\n            >\n          </div>\n        </div>\n        <hr />\n        <div class=\"w-full px-4 pb-4 ml-auto text-gray-500 md:w-1/3\">\n          <button\n            type=\"submit\"\n            @click=\"updateProfile\"\n            class=\"py-2 px-4 bg-orange-500 hover:bg-orange-600 focus:ring-orange-600 focus:ring-offset-blue-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg\"\n          >\n            Update\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      name: this.$store.state.user.name,\n      email: this.$store.state.user.email,\n      message: [],\n    };\n  },\n  watch: {\n    name(val) {\n      if (val.length >= 1) {\n        if (val.match(/^[A-Z a-z]+$/)) {\n          this.name = val;\n          this.message[\"name\"] = \"\";\n        } else {\n          this.message[\"name\"] = \"* name is not valid\";\n        }\n      } else if (val.length < 1) {\n        this.message[\"name\"] = \"\";\n      }\n    },\n\n    email(val) {\n      if (val.length > 2) {\n        if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(val)) {\n          this.email = val;\n          this.message[\"email\"] = \"\";\n        } else {\n          // this.email = ''\n          this.message[\"email\"] = \"* email is not valid\";\n        }\n      } else if (val.length < 1) {\n        // this.email = ''\n        this.message[\"email\"] = \"\";\n      }\n    },\n  },\n  methods: {\n    updateProfile() {\n      let token = window.sessionStorage.getItem(\"access_token\");\n      let id = window.sessionStorage.getItem(\"access_token\");\n      console.log(this.name);\n      this.axios\n        .put(`http://127.0.0.1:8000/api/user/${id}`, {\n          name: this.name,\n        })\n        .then((res) => {\n          console.log(res);\n          if (res.data.status_code == 200) {\n            // this.$store.state.user = res.data.user;\n            this.message[\"updateMes\"] = res.data.message;\n          }\n        })\n        .catch((error) => {\n          // let eerror = error.response.data.message;\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.text-vs {\n  font-size: 0.9rem;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}